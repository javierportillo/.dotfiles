#!/usr/bin/env zsh

modes=(output window region)
destination=('Save File' 'Copy to Clipboard' 'Edit with Pinta')

selected_mode=$(printf "%s\n" $modes | fuzzel --dmenu --placeholder="Select Mode")

[[ -z $selected_mode ]] && exit 0

selected_dst=$(printf "%s\n" $destination | fuzzel --dmenu --placeholder="Destination")

[[ -z $selected_dst ]] && exit 0

screenshot_dir=~/Pictures/screenshots

case $selected_dst in
    'Save File')
        [[ -d $screenshot_dir ]] || mkdir $screenshot_dir
        hyprshot -m $selected_mode --output-folder $screenshot_dir
        ;;
    'Copy to Clipboard')
        hyprshot -m $selected_mode --clipboard-only
        ;;
    'Edit with Pinta')
        hyprshot -m $selected_mode --output-folder $screenshot_dir -- pinta
esac
